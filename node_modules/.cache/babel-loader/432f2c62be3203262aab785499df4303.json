{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\samue\\\\Desktop\\\\src-React\\\\src\\\\components\\\\Layout\\\\CartModal.js\",\n    _s = $RefreshSig$();\n\nimport CartContext from \"../../store/cart-context\";\nimport AuthContext from \"../../store/auth-context\";\nimport CartModalItem from \"./CartModalItem\";\nimport React, { useContext, useState } from \"react\";\nimport Modal from \"./Modal\";\nimport classes from \"./CartModal.module.css\";\nimport Checkout from \"./Checkout\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet graphqlQuery;\nlet response;\nlet arrayItems;\nlet firstTime;\nlet newArrayItems;\n\nconst CartModal = props => {\n  _s();\n\n  firstTime = false;\n  const [isCheckingout, setIsCheckingout] = useState(false);\n  const [isSending, setIsSending] = useState(false);\n  const [products, setProducts] = useState(false);\n  const history = useHistory();\n  console.log(isSending);\n  console.log(\"Inside CartModal\");\n  const cartCtx = useContext(CartContext);\n  const authCtx = useContext(AuthContext);\n  console.log(authCtx.token);\n  console.log(cartCtx.items);\n  graphqlQuery = {\n    query: ` query {\n          getCart(id: \"61b37aec2067e8963a70d6c9\") {\n    products{\n      product{\n        title\n        price\n        _id\n        imageUrl\n      }\n      quantity\n    }\n  }   \n               \n          }`\n  };\n\n  const firstTimeFunction = async graphqlQuery => {\n    console.log(graphqlQuery);\n    const jsonResponse = await fetch(\"http://localhost:8000/graphql\", {\n      method: \"POST\",\n      body: JSON.stringify(graphqlQuery),\n      headers: {\n        Authorization: \"Bearer \" + authCtx.token,\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      return res.json();\n    });\n\n    if (firstTime) {\n      console.log(jsonResponse);\n      arrayItems = jsonResponse.data.getCart.products;\n      console.log(arrayItems);\n      console.log('Inside array items');\n      newArrayItems = arrayItems.map(item => {\n        return { ...item.product,\n          amount: item.quantity,\n          id: item.product._id\n        };\n      });\n      console.log(newArrayItems);\n      firstTime = false;\n      setProducts(true);\n    }\n  };\n\n  if (!products) {\n    firstTime = true;\n    firstTimeFunction(graphqlQuery);\n  }\n\n  const cartItemRemoveHandler = id => {\n    console.log(\"Inside remove handler\");\n    graphqlQuery = {\n      query: ` mutation {\n          deleteProduct(id: \"${id}\") \n               \n          }`\n    };\n    firstTimeFunction(graphqlQuery);\n    cartCtx.removeItem(id);\n  };\n\n  const cartItemAddHandler = item => {\n    console.log(item);\n    graphqlQuery = {\n      query: ` mutation {\n          addProduct(id: \"${item.id}\") \n               \n          }`\n    };\n    firstTimeFunction(graphqlQuery);\n    cartCtx.addItem({\n      id: item.id,\n      name: item.name,\n      amount: 1,\n      price: +item.price,\n      image: item.image\n    });\n  };\n\n  const orderHandler = () => {\n    setIsCheckingout(true);\n  };\n\n  const timeOutHandler = () => {\n    cartCtx.clearCart();\n    history.replace(\"/\");\n  };\n\n  const submitOrderHandler = async userData => {\n    // await fetch(\n    //   \"https://actual-react-project-default-rtdb.firebaseio.com/orders.json\",\n    //   {\n    //     method: \"POST\",\n    //     body: JSON.stringify({\n    //       user: userData,\n    //       orderedItems: cartCtx.items,\n    //       totalAmount: cartCtx.totalAmount,\n    //     }),\n    //   }\n    // );\n    graphqlQuery = {\n      query: ` mutation {\n          postOrder          \n          }`\n    };\n    firstTimeFunction(graphqlQuery);\n    console.log(\"sending\");\n    setIsSending(true);\n    const timer = setTimeout(timeOutHandler, 3000);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    children: [!isSending && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: classes[\"cart-items\"],\n      children: newArrayItems && newArrayItems.map(item => /*#__PURE__*/_jsxDEV(CartModalItem, {\n        price: item.price,\n        amount: item.amount,\n        name: item.title,\n        onRemove: cartItemRemoveHandler.bind(null, item.id),\n        onAdd: cartItemAddHandler.bind(null, item)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }, this), cartCtx.items.length > 0 && !isSending && /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.totAmount,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Total Amount:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", cartCtx.totalAmount]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this), !isCheckingout && !isSending && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actionflex,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.onClose,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: orderHandler,\n          children: \"Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 9\n    }, this), isCheckingout && !isSending && /*#__PURE__*/_jsxDEV(Checkout, {\n      onConfirm: submitOrderHandler,\n      onCancel: props.onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this), isSending && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.sending,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://media.istockphoto.com/vectors/food-delivery-design-vector-illustration-vector-id582262462\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \" Your order has been processed!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 146,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CartModal, \"nF6kQymxC1vnvxWUrUpQHN7Dl2Q=\", false, function () {\n  return [useHistory];\n});\n\n_c = CartModal;\nexport default CartModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartModal\");","map":{"version":3,"sources":["C:/Users/samue/Desktop/src-React/src/components/Layout/CartModal.js"],"names":["CartContext","AuthContext","CartModalItem","React","useContext","useState","Modal","classes","Checkout","useHistory","graphqlQuery","response","arrayItems","firstTime","newArrayItems","CartModal","props","isCheckingout","setIsCheckingout","isSending","setIsSending","products","setProducts","history","console","log","cartCtx","authCtx","token","items","query","firstTimeFunction","jsonResponse","fetch","method","body","JSON","stringify","headers","Authorization","then","res","json","data","getCart","map","item","product","amount","quantity","id","_id","cartItemRemoveHandler","removeItem","cartItemAddHandler","addItem","name","price","image","orderHandler","timeOutHandler","clearCart","replace","submitOrderHandler","userData","timer","setTimeout","title","bind","length","totAmount","totalAmount","actionflex","onClose","sending"],"mappings":"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","sourcesContent":["import CartContext from \"../../store/cart-context\";\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport CartModalItem from \"./CartModalItem\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport Modal from \"./Modal\";\r\nimport classes from \"./CartModal.module.css\";\r\nimport Checkout from \"./Checkout\";\r\nimport { useHistory } from \"react-router\";\r\nlet graphqlQuery;\r\nlet response;\r\nlet arrayItems;\r\nlet firstTime;\r\nlet newArrayItems;\r\n\r\nconst CartModal = (props) => {\r\n  firstTime = false;\r\n  const [isCheckingout, setIsCheckingout] = useState(false);\r\n  const [isSending, setIsSending] = useState(false);\r\n  const [products, setProducts] = useState(false);\r\n  const history = useHistory();\r\n  console.log(isSending);\r\n  console.log(\"Inside CartModal\");\r\n  const cartCtx = useContext(CartContext);\r\n  const authCtx = useContext(AuthContext);\r\n  console.log(authCtx.token);\r\n  console.log(cartCtx.items);\r\n  graphqlQuery = {\r\n    query: ` query {\r\n          getCart(id: \"61b37aec2067e8963a70d6c9\") {\r\n    products{\r\n      product{\r\n        title\r\n        price\r\n        _id\r\n        imageUrl\r\n      }\r\n      quantity\r\n    }\r\n  }   \r\n               \r\n          }`,\r\n  };\r\n  const firstTimeFunction = async (graphqlQuery) => {\r\n    console.log(graphqlQuery);\r\n    const jsonResponse = await fetch(\"http://localhost:8000/graphql\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(graphqlQuery),\r\n      headers: {\r\n        Authorization: \"Bearer \" + authCtx.token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n    .then((res) => {\r\n      return res.json();\r\n    });\r\n\r\n    if (firstTime){\r\n      console.log(jsonResponse);\r\n      arrayItems = jsonResponse.data.getCart.products;\r\n      console.log(arrayItems);\r\n      console.log('Inside array items');\r\n      newArrayItems = arrayItems.map(item=>{\r\n       return {\r\n         ...item.product,\r\n         amount:item.quantity,\r\n         id:item.product._id\r\n       }\r\n     });\r\n     console.log(newArrayItems);\r\n      firstTime = false;\r\n      setProducts(true);\r\n\r\n    }\r\n    \r\n      \r\n  };\r\n\r\n  if (!products){\r\n    firstTime = true;\r\n    firstTimeFunction(graphqlQuery);\r\n    \r\n  }\r\n \r\n\r\n  const cartItemRemoveHandler = (id) => {\r\n    console.log(\"Inside remove handler\");\r\n    graphqlQuery = {\r\n      query: ` mutation {\r\n          deleteProduct(id: \"${id}\") \r\n               \r\n          }`,\r\n    };\r\n    firstTimeFunction(graphqlQuery);\r\n    cartCtx.removeItem(id);\r\n  };\r\n\r\n  const cartItemAddHandler = (item) => {\r\n    console.log(item);\r\n    graphqlQuery = {\r\n      query: ` mutation {\r\n          addProduct(id: \"${item.id}\") \r\n               \r\n          }`,\r\n    };\r\n    firstTimeFunction(graphqlQuery);\r\n    cartCtx.addItem({\r\n      id: item.id,\r\n      name: item.name,\r\n      amount: 1,\r\n      price: +item.price,\r\n      image: item.image,\r\n    });\r\n  };\r\n  const orderHandler = () => {\r\n    setIsCheckingout(true);\r\n  };\r\n  const timeOutHandler = () => {\r\n    cartCtx.clearCart();\r\n    history.replace(\"/\");\r\n  };\r\n  const submitOrderHandler = async (userData) => {\r\n    // await fetch(\r\n    //   \"https://actual-react-project-default-rtdb.firebaseio.com/orders.json\",\r\n    //   {\r\n    //     method: \"POST\",\r\n    //     body: JSON.stringify({\r\n    //       user: userData,\r\n    //       orderedItems: cartCtx.items,\r\n    //       totalAmount: cartCtx.totalAmount,\r\n    //     }),\r\n    //   }\r\n    // );\r\n    graphqlQuery = {\r\n      query: ` mutation {\r\n          postOrder          \r\n          }`,\r\n    };\r\n    firstTimeFunction(graphqlQuery);\r\n    console.log(\"sending\");\r\n\r\n    setIsSending(true);\r\n\r\n    const timer = setTimeout(timeOutHandler, 3000);\r\n  };\r\n  return (\r\n    <Modal>\r\n      {!isSending && (\r\n        <ul className={classes[\"cart-items\"]}>\r\n          {newArrayItems &&\r\n            newArrayItems.map((item) => (\r\n              <CartModalItem\r\n                price={item.price}\r\n                amount={item.amount}\r\n                name={item.title}\r\n                onRemove={cartItemRemoveHandler.bind(null, item.id)}\r\n                onAdd={cartItemAddHandler.bind(null, item)}\r\n              />\r\n            ))}\r\n        </ul>\r\n      )}\r\n      {cartCtx.items.length > 0 && !isSending && (\r\n        <React.Fragment>\r\n          <div className={classes.totAmount}>\r\n            <span>Total Amount:</span>\r\n            <span>${cartCtx.totalAmount}</span>\r\n          </div>\r\n          {!isCheckingout && !isSending && (\r\n            <div className={classes.actionflex}>\r\n              <button onClick={props.onClose}>Cancel</button>\r\n              <button onClick={orderHandler}>Checkout</button>\r\n            </div>\r\n          )}\r\n        </React.Fragment>\r\n      )}\r\n      {isCheckingout && !isSending && (\r\n        <Checkout onConfirm={submitOrderHandler} onCancel={props.onClose} />\r\n      )}\r\n      {isSending && (\r\n        <div className={classes.sending}>\r\n          <img src=\"https://media.istockphoto.com/vectors/food-delivery-design-vector-illustration-vector-id582262462\" />\r\n          <p> Your order has been processed!</p>\r\n        </div>\r\n      )}\r\n    </Modal>\r\n  );\r\n};\r\nexport default CartModal;\r\n"]},"metadata":{},"sourceType":"module"}